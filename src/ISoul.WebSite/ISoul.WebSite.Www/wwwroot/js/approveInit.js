function checkEmail(){var a=$("input[name=email]"),s=$.trim(a.val()),e=$(".input-tip[for=email]");return e.html(""),""==s?(e.html('<span class="errortip">邮箱不能为空</span>'),!1):/^\w+([-+.]\w+)*@\w+([-.]\\w+)*\.\w+([-.]\w+)*$/.test(s)?(e.html('<span class="successicon">&nbsp;</span>'),!0):(e.html('<span class="errortip">邮箱地址不正确</span>'),!1)}function checkMobile(){var a=$("input[name=mobile]"),s=$.trim(a.val()),e=$(".input-tip[for=mobile]");return e.html(""),""==s?(e.html('<span class="errortip">手机号不能为空</span>'),!1):/^(13|14|15|18|17)[0-9]{9}$/.test(s)?(e.html('<span class="successicon">&nbsp;</span>'),!0):(e.html('<span class="errortip">请填写正确的手机号</span>'),!1)}function getEvent(){$("#getVoiceCode").click(function(){getVoiceCode("verify_code")})}function checkCode(){var a=$("input[name=code]"),s=$.trim(a.val()),e=$(".input-tip[for=code]");return e.html(""),""==s?(e.html('<span class="errortip">验证码不能为空</span>'),!1):(e.html('<span class="successicon">&nbsp;</span>'),!0)}function checkName(){var a=$("input[name=realName]"),s=$.trim(a.val()),e=$(".input-tip[for=realName]");return e.html(""),""==s?(e.html('<span class="errortip">姓名不能为空</span>'),!1):/^([\u4e00-\u9fa5\·]{1,10})$/.test(s)?(e.html('<span class="successicon">&nbsp;</span>'),!0):(e.html('<span class="errortip">请填写正确的姓名</span>'),!1)}function checkOccupation(){var a=$("input[name=occupation]"),s=$.trim(a.val()),e=$(".input-tip[for=occupation]");return e.html(""),""==s?(e.html('<span class="errortip">职业不能为空</span>'),!1):s.length>50?(e.html('<span class="errortip">字符不能超过50个</span>'),!1):(e.html('<span class="successicon">&nbsp;</span>'),!0)}function checkPersonId(){var a=$("input[name=personId]"),s=$.trim(a.val()),e=$(".input-tip[for=personId]");return e.html(""),""==s?(e.html('<span class="errortip">身份证号不能为空</span>'),!1):/(^\d{15}$)|(^\d{17}(\d|X)$)/.test(s)?(e.html('<span class="successicon">&nbsp;</span>'),!0):(e.html('<span class="errortip">请填写正确的身份证号</span>'),!1)}function checkAreas(){var a=$.trim($("#sheng").val()),s=$.trim($("#shi").val()),e=$.trim($("#xian").val()),n=$(".rowtips[for=area]");return n.html(""),"省份"!=a&&""!=a&&"地级市"!=s&&""!=s&&"市、县级市"!=e&&""!=e||(n.html('<span class="errortip">详细地址不能为空</span>'),!1)}function onSubmit(){if(checkEmail()&&checkMobile()&&checkCode()&&checkName()&&checkOccupation()&&checkAreas()&&checkPersonId()){var a=$("#subButton");a.attr("disabled",!0).addClass("disabled");var s={email:$('input[name="email"]').val(),mobile:$('input[name="mobile"]').val(),code:$('input[name="code"]').val(),realName:$('input[name="realName"]').val(),occupation:$('input[name="occupation"]').val(),sheng:$("#sheng").val(),shi:$("#shi").val(),xian:$("#xian").val(),personId:$("#personId").val()};$.ajax({url:"xxx",type:"POST",dataType:"json",data:s,success:function(s){var e=$.parseJSON(s);e.success?parent.layer.alert("提交成功",{closeBtn:!1,icon:1}):(a.attr("disabled",!1).removeClass("disabled"),$(".input-tip[for=form1]").html('<span class="errortip">'+e.msg+"</span>"))}})}}$("#getVerifyCode").click(function(){checkCode()&&(getVerifyCode("verify_code"),setInterval("getEvent()",1e3))});var sheng="",shi="",xian="";$(function(){_init_area("sheng","shi","xian"),setArea(sheng,shi,xian)}),$("body").delegate(".radioItem","click",function(){var a=$(this),s=a.closest("form"),e=s.find('button[id="subButton"]'),n=a.attr("data-name"),t=a.attr("data-checkedCls");a.hasClass(t)?(a.removeClass(t),$('input[name="'+n+'"]').attr("checked",!1),e.addClass("disabled")):(a.addClass(t),$('input[name="'+n+'"]').attr("checked",!0),e.removeClass("disabled"))});